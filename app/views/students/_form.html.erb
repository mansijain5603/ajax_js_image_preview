
<%= form_for(student,:html => {:id => "update_form"})do|f| %>
<div class="modal-body" style="background-color: white;width: 500px ;float:right">
    <div>
        <%= f.label :first_name  %>
        <%= f.text_field :first_name %>
    </div>
    <div>
        <%= f.label :last_name %>
        <%= f.text_field :last_name %>
    </div>
    <div>
        <%= f.label :gender, 'gender: ' %>
        <%= f.label :Male %>
        <%= f.radio_button :gender, 'Male' %>
        <%= f.label :Female %>
        <%= f.radio_button :gender, 'Female' %>
    </div>
    <div>
        <%= f.label :age %>
        <%= f.text_field :age %>
    </div>

    <div>
        <%= f.label :house_no %>
        <%= f.text_field :house_no %>
    </div>
    <div>
        <%= f.label :street %>
        <%= f.text_field :street %>
    </div>
    <div>
        <%= f.label :city %>
        <%= f.text_field :city %>
    </div>
    <div>
        <%= f.label :state %>
        <%= f.text_field :state %>
    </div>
    <div>
        <%= f.label :country %>
        <%= f.text_field :country %>
    </div>
    <div>
        <%= f.label :pincode %>
        <%= f.text_field :pincode %>
    </div>
    <div>
    <%= f.label :images %>
    <%= f.file_field :images, multiple: true, id: "file",onchange: "uploadimage()" %>
    </div>
</div> 
    <div class="modal-footer">
    <button type="button" class="btn btn-secondary close-modal" id="close"data-bs-dismiss="modal">Close</button>
        <%= f.submit "Submit Form", class:"btn btn-primary"%>
    </div>  
<% end %>

<div id ="image_update">
</div>

<script>
function uploadimage(){
    console.log("hello");
    var formData = new FormData();
        var url = $('#update_form').attr("action")
        var fileimage = $('#file')[0].files;
        formData.append("file", fileimage[0]);
         $.ajax({
            type: "PATCH",
            url: url,
            data: formData,
            processData: false,
            contentType: false,
        });
     }
</script>

